import{o as B,s as x,_ as E,a as w,b as A,c as g,d as v,e as P,f as $,g as T,U,C as V,T as F,h as L}from"./TableHeader.vue_vue_type_script_setup_true_lang-Dz-DQlGs.js";import{u as W,g as c,_ as H,a as I,b as O,c as R,d as S,e as G,f as J}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-BpdYXksA.js";import{_ as K,a as M}from"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-t-mSVCRp.js";import{_ as Q,a as X,b as Y,c as Z}from"./CardTitle.vue_vue_type_script_setup_true_lang-ChZ18OrQ.js";import{f as ee,c as C,o as n,a,u as e,m as se,w as s,b as u,d as o,F as N,A as te,B as d,t as _,D as b,W as m}from"./app-VAohu_K-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ae={class:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8"},le={class:"flex size-6 items-center justify-center rounded-sm border"},oe={class:"flex size-6 items-center justify-center rounded-sm border"},re={class:"flex size-6 items-center justify-center rounded-sm border"},ne={class:"flex items-center justify-end space-x-2 py-4"},ie={class:"space-x-2"},pe={__name:"Note",props:{todos:Object},setup(f){const{toast:i}=W(),h=l=>{m.put(route("todonotes.update",l),{status:"done"},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{i({title:`Todo ${l} Done`,description:"Todo has been updated successfully"})},onError:t=>{i({title:"Todo failed to update",description:t})}})},z=l=>{m.put(route("todonotes.update",l),{status:"todo"},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{i({title:`Rollback Todo ${l}`,description:"Todo has been updated successfully"})},onError:t=>{i({title:"Todo failed to update",description:t})}})},D=l=>{m.delete(route("todonotes.destroy",l),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{i({title:`Todo ${l} Deleted`,description:"Todo has been deleted successfully"})},onError:t=>{i({title:"Todo failed to update",description:t})}})},k=l=>{m.get(l,{preserveScroll:!0,preserveState:!0})},j=B({name:x({required_error:"todo name is required."}).min(2,{message:"todo name must be at least 2 characters."}),notes:x({required_error:"notes is required."}).min(2,{message:"notes must be at least 2 characters."})}),p=ee(null),q=l=>{m.post(route("todonotes.store"),l,{preserveScroll:!0,preserveState:!0,onSuccess:()=>{i({title:"Todo Created",description:"Todo has been created successfully"}),p.value&&p.value.reset()},onError:t=>{i({title:"Todo failed to create",description:t})}})};return(l,t)=>(n(),C(N,null,[a(e(se),{title:"Profile"}),a(J,null,{header:s(()=>[a(e(H),{class:"-ml-1"}),a(e(I),{orientation:"vertical",class:"mr-2 h-4"}),a(e(O),null,{default:s(()=>[a(e(R),null,{default:s(()=>[a(e(S),{class:"hidden md:block"},{default:s(()=>[a(e(G),{href:l.route("dashboard")},{default:s(()=>t[2]||(t[2]=[o(" Home ")])),_:1},8,["href"])]),_:1}),a(e(K)),a(e(S),null,{default:s(()=>[a(e(M),null,{default:s(()=>t[3]||(t[3]=[o("Notes")])),_:1})]),_:1})]),_:1})]),_:1})]),default:s(()=>[u("div",ae,[a(e(E),null,{default:s(()=>[a(e(w),null,{default:s(()=>t[4]||(t[4]=[o("A list of your recent notes.")])),_:1}),a(e(A),null,{default:s(()=>[a(e(g),null,{default:s(()=>[a(e(v),null,{default:s(()=>t[5]||(t[5]=[o(" ID ")])),_:1}),a(e(v),null,{default:s(()=>t[6]||(t[6]=[o(" Name ")])),_:1}),a(e(v),{class:"text-right"},{default:s(()=>t[7]||(t[7]=[o(" Action ")])),_:1})]),_:1})]),_:1}),a(e(P),null,{default:s(()=>[(n(!0),C(N,null,te(f.todos.data,r=>(n(),d(e(g),{key:r.id},{default:s(()=>[a(e($),null,{default:s(()=>[o(_(r.id),1)]),_:2},1024),a(e($),{class:"flex flex-col gap-2 font-medium"},{default:s(()=>[o(_(r.name)+" ",1),u("div",null,[r.is_done?(n(),d(e(T),{key:0},{default:s(()=>[o(_(r.status),1)]),_:2},1024)):(n(),d(e(T),{key:1,variant:"destructive"},{default:s(()=>[o(_(r.status),1)]),_:2},1024))])]),_:2},1024),a(e($),{class:"text-right"},{default:s(()=>[r.is_done?(n(),d(e(c),{key:0,variant:"destructive",onClick:y=>z(r.id)},{default:s(()=>[u("div",le,[(n(),d(b(e(U)),{class:"size-4 shrink-0"}))])]),_:2},1032,["onClick"])):(n(),d(e(c),{key:1,variant:"destructive",onClick:y=>h(r.id)},{default:s(()=>[u("div",oe,[(n(),d(b(e(V)),{class:"size-4 shrink-0"}))])]),_:2},1032,["onClick"])),a(e(c),{variant:"destructive",onClick:y=>D(r.id),class:"ml-2"},{default:s(()=>[u("div",re,[(n(),d(b(e(F)),{class:"size-4 shrink-0"}))])]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),u("div",ne,[u("div",ie,[a(e(c),{variant:"outline",size:"sm",disabled:!f.todos.prev_page_url,onClick:t[0]||(t[0]=r=>k(f.todos.prev_page_url))},{default:s(()=>t[8]||(t[8]=[o(" Previous ")])),_:1},8,["disabled"]),a(e(c),{variant:"outline",size:"sm",disabled:!f.todos.next_page_url,onClick:t[1]||(t[1]=r=>k(f.todos.next_page_url))},{default:s(()=>t[9]||(t[9]=[o(" Next ")])),_:1},8,["disabled"])])]),a(e(Q),null,{default:s(()=>[a(e(X),null,{default:s(()=>[a(e(Y),null,{default:s(()=>t[10]||(t[10]=[o(" Add Note")])),_:1})]),_:1}),a(e(Z),null,{default:s(()=>[a(e(L),{ref:p.value,class:"w-2/3 space-y-6",schema:e(j),"field-config":{name:{label:"Name",inputProps:{required:!0}},notes:{label:"Notes",component:"textarea",inputProps:{required:!0}}},onSubmit:q},{default:s(()=>[a(e(c),{type:"submit"},{default:s(()=>t[11]||(t[11]=[o(" Save ")])),_:1})]),_:1},8,["schema"])]),_:1})]),_:1})])]),_:1})],64))}};export{pe as default};
